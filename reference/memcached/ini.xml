<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 42c0929282ce602c4e29fca691637b62a6bd109f Maintainer: mowangjuanzi Status: ready -->
<section xml:id="memcached.configuration" xmlns="http://docbook.org/ns/docbook">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  <table>
   <title>Memcached &ConfigureOptions;</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>&Name;</entry>
      <entry>&Default;</entry>
      <entry>&Changeable;</entry>
      <entry>&Changelog;</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry><link linkend="ini.memcached.sess-locking">memcached.sess_locking</link></entry>
      <entry>On</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-consistent-hash">memcached.sess_consistent_hash</link></entry>
      <entry>On</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.1.0 起可用。自 memcached 3.0.0 起默认值为 On。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-binary">memcached.sess_binary</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.0.0 起可用。自 memcached 3.0.0 起改用 memcached.sess_binary_protocol。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-lock-wait">memcached.sess_lock_wait</link></entry>
      <entry>150000</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。自 memcached 3.0.0 起移除。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-prefix">memcached.sess_prefix</link></entry>
      <entry>memc.sess.key.</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-number-of-replicas">memcached.sess_number_of_replicas</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-randomize-replica-read">memcached.sess_randomize_replica_read</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-remove-failed">memcached.sess_remove_failed</link></entry>
      <entry>On</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.1.0 起可用。自 memcached 3.0.0 起改用 memcached.sess_remove_failed_servers。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.compression-type">memcached.compression_type</link></entry>
      <entry>fastlz</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.compression-factor">memcached.compression_factor</link></entry>
      <entry>1.3</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.compression-threshold">memcached.compression_threshold</link></entry>
      <entry>2000</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.serializer">memcached.serializer</link></entry>
      <entry>igbinary</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 0.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.use-sasl">memcached.use_sasl</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.2.0 起可用。自 memcached 3.0.0 起移除。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.default-binary-protocol">memcached.default_binary_protocol</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.default-connect-timeout">memcached.default_connect_timeout</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.default-consistent-hash">memcached.default_consistent_hash</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-binary-protocol">memcached.sess_binary_protocol</link></entry>
      <entry>On</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。替换 memcached.sess_binary。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-connect-timeout">memcached.sess_connect_timeout</link></entry>
       <entry>1000</entry>
       <entry>PHP_INI_ALL</entry>
       <entry>自 memcached 2.2.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-consistent-hash-type">memcached.sess_consistent_hash_type</link></entry>
      <entry>ketama</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.1.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-lock-expire">memcached.sess_lock_expire</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.2.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-lock-retries">memcached.sess_lock_retries</link></entry>
      <entry>5</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-lock-wait-max">memcached.sess_lock_wait_max</link></entry>
      <entry>150</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。自 memcached 3.1.0 起默认值为 150（之前 2000）。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-lock-wait-min">memcached.sess_lock_wait_min</link></entry>
      <entry>150</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。自 memcached 3.1.0 起默认值为 150（之前 1000）。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-persistent">memcached.sess_persistent</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-remove-failed-servers">memcached.sess_remove_failed_servers</link></entry>
      <entry>Off</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。替换 memcached.sess_remove_failed。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-server-failure-limit">memcached.sess_server_failure_limit</link></entry>
      <entry>0</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 3.0.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-sasl-password">memcached.sess_sasl_password</link></entry>
      <entry>null</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.2.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.sess-sasl-username">memcached.sess_sasl_username</link></entry>
      <entry>null</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.2.0 起可用。</entry>
     </row>
     <row>
      <entry><link linkend="ini.memcached.store-retry-count">memcached.store_retry_count</link></entry>
      <entry>2</entry>
      <entry>PHP_INI_ALL</entry>
      <entry>自 memcached 2.2.0 起可用。</entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </para>

 &ini.descriptions.title;

 <para>
  <variablelist>
   <varlistentry xml:id="ini.memcached.sess-locking">
     <term>
      <parameter>memcached.sess_locking</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       开启 session 支持。有效值: On、Off，默认值 On。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-consistent-hash">
     <term>
      <parameter>memcached.sess_consistent_hash</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       如果为 On，session 处理程序则使用一致性哈希（libketama）。
       使用一致性哈希，可以保证你在增加或删除 memcached 服务器节点的时候不会导致 session 大规模的失效。
       默认是 On。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-binary">
     <term>
      <parameter>memcached.sess_binary</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Memcached session 是否使用二进制模式。如果 Libmemcached 开启二进制模式。默认值是 Off。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-lock-wait">
     <term>
      <parameter>memcached.sess_lock_wait</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Session 自旋锁等待时间（微秒）。请小心设置此值。值的类型是整数，当此值被设置为 0 的时候，lock wait 的时间将会使用系统默认值，Memcached 扩展中默认值是 150000。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-prefix">
     <term>
      <parameter>memcached.sess_prefix</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       设置 memcached session key 的前缀。session 前缀最长为 219 字节长的字符串。默认值是 “memc.sess.key.”。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-number-of-replicas">
     <term>
      <parameter>memcached.sess_number_of_replicas</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Write data to a number of additional memcached servers. This is "poor man's HA" as libmemcached calls it. If this value is positive and sess_remove_failed_servers is enabled when a memcached server fails the session will continue to be available from a replica. However, if the failed memcache server becomes available again it will read the session from there which could have old data or no data at all. Default is 0.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-randomize-replica-read">
     <term>
      <parameter>memcached.sess_randomize_replica_read</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Memcached session 是否随机复制读。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-remove-failed">
     <term>
      <parameter>memcached.sess_remove_failed</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       是否允许自动剔除出故障的 memcached 服务器。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.compression-type">
     <term>
      <parameter>memcached.compression_type</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       设置 memcached 的压缩类型，允许的值为 fastlz、zlib。默认值是 fastlz（快速无损压缩，性能不错）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.compression-factor">
     <term>
      <parameter>memcached.compression_factor</parameter>
      <type>float</type>
     </term>
     <listitem>
      <para>
       压缩因子。保存时压缩因子超过设置的极限才会将数据压缩存储。存储压缩条件：plain_len > comp_len * factor。默认是 1.3 （节省 23% 的空间）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.compression-threshold">
     <term>
      <parameter>memcached.compression_threshold</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       压缩阈值。不压缩的序列化值低于此阈值。默认值是 2000 字节。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.serializer">
     <term>
      <parameter>memcached.serializer</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       设置缓存对象的默认序列化程序。有效值：php、igbinary、json、json_array、msgpack。
      </para>
      <variablelist>
       <varlistentry>
        <term>json</term>
        <listitem>
         <para>
          标准的 PHP JSON 编码。此序列化程序快速而且是压缩后的数据，但是处理 UTF-8 编码数据时会不完全实现序列化。请查看 JSON 扩展。自 memcached 0.2.0 起可用。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>json_array</term>
        <listitem>
         <para>
          json 序列化，但是反序列化的时候返回数组。 自 memcached 2.0.0 起可用。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>php</term>
        <listitem>
         <para>
          PHP 标准序列化
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>igbinary</term>
        <listitem>
         <para>
          二进制序列化。自 memcached 0.1.4 起可用。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>msgpack</term>
        <listitem>
         <para>
          一个跨语言的二进制序列化器。自 memcached 2.2.0 起可用。
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       如果 igbinary 有效则默认使用它，然后如果 msgpack 有效则使用它，否则使用 php。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.use-sasl">
     <term>
      <parameter>memcached.use_sasl</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       链接 memcached 服务器时启用 SASL 认证。有效值 On、Off。默认值是 Off。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.default-binary-protocol">
     <term>
      <parameter>memcached.default_binary_protocol</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       为新连接设置默认 memcached 协议。（如果要为 session 使用配置 memcached 协议，请改用 memcached.sess_binary_protocol）

       如果设置为 On，则默认使用 memcached 二进制协议。如果设置为 Off，则使用 memcached 文本协议。默认为关闭。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.default-connect-timeout">
     <term>
      <parameter>memcached.default_connect_timeout</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       为新连接设置默认的 memcached 连接超时。（要为会话配置 memcached 连接超时，请改用 memcached.sess_connect_timeout）

       在非阻塞模式下，这会更改超时值。以毫秒为单位的套接字连接期间。指定 -1 意味着无限超时。指定 0 意味着使用 memcached 库的默认连接超时。默认为 0。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.default-consistent-hash">
     <term>
      <parameter>memcached.default_consistent_hash</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Sets the default for consistent hashing for new connections. (To configure consistent hashing for session connections, use memcached.sess_consistent_hash instead)

       If set to On, consistent hashing (libketama) is used for session handling. When consistent hashing is used, one can add or remove cache node(s) without messing up too much with existing keys default is Off
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-binary-protocol">
     <term>
      <parameter>memcached.sess_binary_protocol</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Use the memcached binary protocol for memcached sessions (Instead of the text protocol) libmemcached replicas work only if binary mode is enabled. However, certain proxies (such as twemproxy) will work only if the binary protocol is disabled. In older versions of php-memcached, this setting was Off and was called memcached.sess_binary. Default is On with libmemcached 1.0.18 or newer. Default is Off with older version.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-connect-timeout">
     <term>
      <parameter>memcached.sess_connect_timeout</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       memcached connect timeout value
       In non-blocking mode this changes the value of the timeout during socket connection in milliseconds. Specifying -1 means an infinite timeout.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-consistent-hash-type">
     <term>
      <parameter>memcached.sess_consistent_hash_type</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Memcached session consistent hash type. If set to 'ketama', consistent hashing (libketama) is used for session handling (default for php-memcached 3.x) if set to 'ketama_weighted', weighted consistent hashing (libketama) is used for session handling (default for php-memcached 2.x). Default is "ketama".
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-lock-expire">
     <term>
      <parameter>memcached.sess_lock_expire</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       The time, in seconds, before a lock should release itself. Setting to 0 results in the default behaviour, which is to use PHP's max_execution_time. Default is 0.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-lock-retries">
     <term>
      <parameter>memcached.sess_lock_retries</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       The number of times to retry locking the session lock, not including the first attempt. Default is 5.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-lock-wait-max">
     <term>
      <parameter>memcached.sess_lock_wait_max</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       The maximum time, in milliseconds, to wait between session lock attempts. The default is 150.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-lock-wait-min">
     <term>
      <parameter>memcached.sess_lock_wait_min</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       The minimum time, in milliseconds, to wait between session lock attempts. This value is double on each lock retry until memcached.sess_lock_wait_max is reached, after which any further retries will take sess_lock_wait_max seconds. The default is 150.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-persistent">
     <term>
      <parameter>memcached.sess_persistent</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Whether or not to re-use the memcached connections corresponding to the value(s) of session.save_path after the execution of the script ends. Don't use this if certain settings (e.g. SASL settings, sess_binary_protocol) would be overridden between requests. Default is Off.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-remove-failed-servers">
     <term>
      <parameter>memcached.sess_remove_failed_servers</parameter>
      <type>bool</type>
     </term>
     <listitem>
      <para>
       Allow failed memcached server to automatically be removed. Default is Off. (In previous versions, this setting was called memcached.sess_remove_failed)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-server-failure-limit">
     <term>
      <parameter>memcached.sess_server_failure_limit</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Set this value to enable the server be removed after configured number of continuous times connection failure. Default is 0.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-sasl-password">
     <term>
      <parameter>memcached.sess_sasl_password</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Session SASL 密码。
       Both username and password need to be set for SASL to be enabled
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.sess-sasl-username">
     <term>
      <parameter>memcached.sess_sasl_username</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Session SASL 用户名。
       Both username and password need to be set for SASL to be enabled
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.memcached.store-retry-count">
     <term>
      <parameter>memcached.store_retry_count</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       存储命令失败后的重试次数。
       This mechanism allows transparent fail-over to secondary servers when set/increment/decrement/setMulti operations fail on the desired server in a multi-server environment. The default is 2.
      </para>
     </listitem>
    </varlistentry>
  </variablelist>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
