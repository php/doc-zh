<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1c9fb12650addc936f5a0d5d1edc42cd32e9c765 Maintainer: mowangjuanzi Status: ready -->
<sect1 xml:id="install.unix.source" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>在 Unix 和 macOS 系统上以源码安装</title>
 <para>
  编译所需的前置软件：
  <simplelist>
   <member>
    <link xlink:href="&url.gnu.make;">GNU <command>make</command></link>
   </member>
   <member>
    C 编译器（自 PHP 8.0.0 起要求支持 C99 标准；自 PHP 8.4.0 起要求支持 C11 标准）
   </member>
   <member>
    Web 服务器
   </member>
   <member>
    各模块所需的特定组件（例如 <acronym>GD</acronym>、<acronym>PDF</acronym> 库等）
   </member>
  </simplelist>
 </para>

 <para>
  直接从 Git 源码构建或进行自定义修改后，可能需要以下额外工具：
  <itemizedlist>
   <listitem>
    <simpara>
     <link xlink:href="&url.gnu.autoconf;">autoconf</link>：
    </simpara>
    <simplelist>
     <member>
      PHP 7.3 及其以后：2.68+
     </member>
     <member>
      PHP 7.2：2.64+
     </member>
     <member>
      PHP 7.1 及其更早：2.59+
     </member>
    </simplelist>
   </listitem>
   <listitem>
    <simpara>
     <link xlink:href="&url.re2c;">re2c</link>：
    </simpara>
    <simplelist>
     <member>
      PHP 8.3 及其以后：1.0.3+
     </member>
     <member>
      PHP 8.2 及其更早：0.13.4+
     </member>
    </simplelist>
   </listitem>
   <listitem>
    <simpara>
     <link xlink:href="&url.bison;">bison</link>:
    </simpara>
    <simplelist>
     <member>
      PHP 7.4 及其以后：3.0.0+
     </member>
     <member>
      PHP 7.3 及其更早：2.4+（包含 Bison 3.x）
     </member>
    </simplelist>
   </listitem>
  </itemizedlist>
 </para>

 <simpara>
  有关从源码编译 PHP 的详细步骤，请参见源码压缩包中的 <link xlink:href="&url.php.git.src.master.view;README.md">README.md</link> 文件。
 </simpara>

 <simpara>
  PHP 的初始设置和配置过程由 <command>configure</command> 脚本的命令行选项控制。运行 <command>./configure --help</command>
  可列出所有可用选项及其简要说明。本手册对各项选项分别进行了说明：<link
  linkend="configure.about">核心选项位于附录</link>中，各扩展的特有选项则在其对应的参考页面中描述。
 </simpara>

 <simpara>
  配置脚本执行完成后，可使用 <command>make</command> 命令构建 PHP。<link
  linkend="faq.installation">常见问题解答中的安装部分</link>提供了有关如何处理构建问题的更多信息。
 </simpara>

 <note>
  <simpara>
   某些 Unix 系统（如 OpenBSD 和 SELinux）出于安全原因，禁止同时将内存页映射为可写和可执行，这种机制称为 <link
   xlink:href="&url.install.unix.pax-mprotect;">PaX MPROTECT</link> 或 » <link
   xlink:href="&url.install.unix.w-x-violation;">W^X 违规保护</link>。而 PCRE 的 JIT
   需要此类内存映射，因此要么在构建 PHP 时<link linkend="pcre.installation">禁用 PCRE 的 JIT
   支持</link>，要么通过系统提供的机制将 PHP 二进制文件加入白名单。
  </simpara>
 </note>

 <note>
  <simpara>
   目前不支持使用 Android 工具链进行 ARM 交叉编译。
  </simpara>
 </note>
</sect1>
