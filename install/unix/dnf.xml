<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 4cb53ecbd763db2db808e90d7eda63afb380e6df Maintainer: mowangjuanzi Status: ready -->
<sect1 xml:id="install.unix.dnf" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>在使用 DNF 的 GNU/Linux 发行版上通过软件包安装</title>
 <simpara>
  PHP 既可从源码安装，也可通过软件包在使用 DNF 的系统上安装，例如
  Red Hat Enterprise Linux、OpenSUSE、Fedora、CentOS、Rocky
  Linux 和 Oracle Enterprise Linux。
 </simpara>
 &warn.install.third-party-support;
 <simpara>
  这些软件包可通过 <command>dnf</command> 命令安装。
 </simpara>
 <sect2 xml:id="install.unix.dnf.packages">
  <title>安装软件包</title>
  <simpara>
   首先，注意可能还需要安装其他相关软件包，例如用于 <link xlink:href="&url.pear;">PEAR</link> 的
   <literal>php-pear</literal>，或用于 <link linkend="book.mysqlnd">MySQL 扩展</link>的 
   <literal>php-mysqlnd</literal>。
  </simpara>
  <simpara>
   其次，在安装软件包前，建议确保软件包列表为最新状态。通常可通过运行 <command>dnf update</command> 命令完成此操作。
  </simpara>
  <example xml:id="install.unix.dnf.example">
   <title>DNF 安装示例</title>
   <programlisting role="shell">
<![CDATA[
# dnf install php php-common
]]>
   </programlisting>
  </example>
  <simpara>
   DNF 会自动为 Web 服务器安装 PHP 的配置，但可能需要重启 Web 服务器才能使更改生效。例如：
  </simpara>
  <example xml:id="install.unix.dnf.example2">
   <title>安装 PHP 后重启 Apache</title>
   <programlisting role="shell">
<![CDATA[
# sudo systemctl restart httpd
]]>
   </programlisting>
  </example>
 </sect2>
 <sect2 xml:id="install.unix.dnf.config">
  <title>更精细的配置控制</title>
  <para>
   上一节中仅安装了 PHP 的核心模块。通常还需要额外的模块，例如 <simplelist type="inline">
    <member><link linkend="book.mysql">MySQL</link></member>
    <member><link linkend="book.curl">cURL</link></member>
    <member><link linkend="book.image">GD</link></member>
    <member>等</member>
    </simplelist>，这些模块也可通过 <command>dnf</command> 命令进行安装。
  </para>
  <example xml:id="install.unix.dnf.config.example">
   <title>列出额外 PHP 软件包的方法</title>
   <programlisting role="shell">
<![CDATA[
# dnf search php
]]>
   </programlisting>
  </example>
  <simpara>
   软件包列表将包含大量基础 PHP 组件（如 <literal>php-cli</literal>、<literal>php-fpm</literal>
   和 <literal>php-devel</literal>）以及众多 PHP 扩展。安装扩展时，系统会根据依赖关系自动安装所需的其他软件包。
  </simpara>
  <example xml:id="install.unix.dnf.config.example2">
   <title>安装 PHP 的 MySQL、GD 扩展</title>
   <programlisting role="shell">
<![CDATA[
# dnf install php-mysqlnd php-gd
]]>
   </programlisting>
  </example>
  <simpara>
   DNF 会自动在不同的 &php.ini; 相关文件（如 <filename>/etc/php/8.3/php.ini</filename>、<filename>/etc/php/8.3/conf.d/*.ini</filename>
   等）中添加相应的行，并根据扩展添加类似 <literal>extension=foo.so</literal> 的条目。但需重启 Web 服务器（如 Apache）后，这些更改才会生效。
  </simpara>
 </sect2>
</sect1>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
